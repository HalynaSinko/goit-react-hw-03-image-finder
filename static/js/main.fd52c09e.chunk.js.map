{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/imageGallery.module.css","Components/Button/Button.module.css","App.module.css","Components/Searchbar/Searchbar.js","Components/Loader/Loader.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","serveces/apiImages.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChangeInput","event","setState","target","value","toLowerCase","handleSubmitForm","preventDefault","onSubmit","props","trim","reset","className","s","searchbar","searchForm","this","type","button","input","name","autoComplete","autoFocus","placeholder","onChange","Component","LoaderSpinner","container","color","height","width","timeout","ImageGalleryItem","id","webformatURL","largeImageURL","tags","onClick","item","src","alt","image","currentTarget","ImageGallery","images","gallery","length","map","img","Button","onLoadMore","modalRoot","document","querySelector","Modal","hendleKeyDown","e","code","onClose","hendleBackdropClick","window","addEventListener","removeEventListener","imageModal","createPortal","overlay","modal","dataset","source","apiImages","fetchImages","page","url","fetch","then","response","json","App","loading","showButtom","showModal","error","getImages","setTimeout","hits","prevState","smoothScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","hendleSubmit","toggelModal","hendleOnImageClick","prevProps","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fd52c09e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__15FLA\",\"image\":\"ImageGalleryItem_image__2qUEn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1CU2w\",\"modal\":\"Modal_modal__1c3BH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__2robk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"imageGallery_gallery__jxA9L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__Jf599\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__XpdaT\"};","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n  handleChangeInput = (event) => {\n    // console.log(event.target.value);\n    this.setState({ searchQuery: event.target.value.toLowerCase() });\n  };\n\n  handleSubmitForm = (event) => {\n    event.preventDefault();\n    const { searchQuery } = this.state;\n    const { onSubmit } = this.props;\n\n    if (searchQuery.trim() === \"\") {\n      return;\n    }\n\n    onSubmit(searchQuery);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchQuery: \"\" });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmitForm}>\n          <button type=\"submit\" className={s.button}>\n            <span className=\"label\"></span>\n          </button>\n\n          <input\n            className={s.input}\n            name=\"searchQuery\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport s from \"./Loader.module.css\";\n\nconst LoaderSpinner = () => {\n  return (\n    <div className={s.container}>\n      <Loader\n        type=\"BallTriangle\"\n        color=\"#3f51b5\"\n        height={80}\n        width={80}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default LoaderSpinner;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({\n  id,\n  webformatURL,\n  largeImageURL,\n  tags,\n  onClick,\n}) => {\n  return (\n    <li key={id} className={s.item}>\n      <img\n        src={webformatURL}\n        data-source={largeImageURL}\n        alt={tags}\n        className={s.image}\n        onClick={(event) => onClick(event.currentTarget)}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./imageGallery.module.css\";\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={s.gallery}>\n      {images.length > 0 &&\n        images.map((img) => ImageGalleryItem({ ...img, onClick }))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.hendleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.hendleKeyDown);\n  }\n\n  hendleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  hendleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { imageModal } = this.props;\n    return createPortal(\n      <div className={s.overlay} onClick={this.hendleBackdropClick}>\n        <div className={s.modal}>\n          <img src={imageModal.dataset.source} alt={imageModal.alt} />{\" \"}\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","const API_KEY = \"22026737-4ace7165bbd581938b49ded93\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction fetchImages(searchQuery, page) {\n  const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then((response) => {\n    // console.log(response);\n    return response.json();\n    //   return Promise.reject(new Error(\"Sorry:(\"));\n  });\n}\n\nconst apiImages = {\n  fetchImages,\n};\n\nexport default apiImages;\n\n//\n//     //   console.log(url);\n","import { Component } from \"react\";\nimport Searchbar from \"./Components/Searchbar\";\nimport LoaderSpinner from \"./Components/Loader\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport Button from \"./Components/Button\";\nimport Modal from \"./Components/Modal/\";\nimport apiImages from \"./serveces/apiImages\";\n\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    page: 1,\n    images: [],\n    loading: false,\n    showButtom: false,\n    showModal: false,\n    imageModal: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(prevState);\n    // console.log(this.state);\n    const { searchQuery } = this.state;\n\n    if (searchQuery !== prevState.searchQuery) {\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    setTimeout(() => {\n      apiImages\n        .fetchImages(searchQuery, page)\n        .then(({ hits }) => {\n          // console.log(hits);\n\n          if (hits.length === 0) {\n            this.setState({\n              error: \"Sorry, search returned no results. Enter correct query.\",\n            });\n          }\n\n          if (hits.length !== 12) {\n            this.setState({ showButtom: false });\n          } else {\n            this.setState({ showButtom: true });\n          }\n\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...hits],\n            page: prevState.page + 1,\n          }));\n          this.smoothScroll();\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }, 1000);\n  };\n\n  smoothScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  hendleSubmit = (searchQuery) => {\n    this.setState({ searchQuery, images: [], page: 1, error: \"\" });\n  };\n\n  toggelModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  hendleOnImageClick = (event) => {\n    this.setState({ imageModal: event });\n    this.toggelModal();\n  };\n\n  render() {\n    const { images, loading, showButtom, showModal, imageModal, error } =\n      this.state;\n    return (\n      <div className={s.container}>\n        <Searchbar onSubmit={this.hendleSubmit} />\n        {loading && <LoaderSpinner />}\n        {error && <p>{error}</p>}\n        <ImageGallery images={images} onClick={this.hendleOnImageClick} />\n        {showButtom && <Button onLoadMore={this.getImages} />}\n        {showModal && (\n          <Modal imageModal={imageModal} onClose={this.toggelModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__37otY\",\"searchForm\":\"Searchbar_searchForm__19lp5\",\"button\":\"Searchbar_button__2WRee\",\"label\":\"Searchbar_label__310YR\",\"input\":\"Searchbar_input__BxtW2\"};"],"sourceRoot":""}